{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { addProperty } from '../services/api';\nimport './AddProperty.css';\nfunction AddProperty() {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    price: '',\n    location: '',\n    bedrooms: '',\n    bathrooms: '',\n    furnished: false,\n    amenities: [],\n    images: [],\n    video: null\n  });\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type,\n      checked,\n      files\n    } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      [name]: type === 'checkbox' ? checked : type === 'file' ? name === 'images' ? Array.from(files) : files[0] : value\n    }));\n  };\n  const handleAmenityChange = e => {\n    const {\n      value,\n      checked\n    } = e.target;\n    setFormData(prevState => ({\n      ...prevState,\n      amenities: checked ? [...prevState.amenities, value] : prevState.amenities.filter(amenity => amenity !== value)\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const formDataToSend = new FormData();\n      Object.keys(formData).forEach(key => {\n        if (key === 'images') {\n          formData[key].forEach(image => formDataToSend.append('images', image));\n        } else if (key === 'amenities') {\n          formDataToSend.append('amenities', JSON.stringify(formData[key]));\n        } else {\n          formDataToSend.append(key, formData[key]);\n        }\n      });\n      await addProperty(formDataToSend);\n      alert('Property added successfully!');\n      navigate('/view-all-rooms');\n    } catch (error) {\n      console.error('Error adding property:', error);\n      alert('Failed to add property. Please try again.');\n    }\n  };\n\n  // ... rest of the component (JSX) remains the same\n}\n_s(AddProperty, \"j7NRnuxSbOPeftXO0B9nh9YdGK4=\", false, function () {\n  return [useNavigate];\n});\n_c = AddProperty;\nexport default AddProperty;\nvar _c;\n$RefreshReg$(_c, \"AddProperty\");","map":{"version":3,"names":["React","useState","Link","useNavigate","addProperty","AddProperty","_s","navigate","formData","setFormData","title","description","price","location","bedrooms","bathrooms","furnished","amenities","images","video","handleInputChange","e","name","value","type","checked","files","target","prevState","Array","from","handleAmenityChange","filter","amenity","handleSubmit","preventDefault","formDataToSend","FormData","Object","keys","forEach","key","image","append","JSON","stringify","alert","error","console","_c","$RefreshReg$"],"sources":["E:/Room Rental/frontend/src/components/AddProperty.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { addProperty } from '../services/api';\r\nimport './AddProperty.css';\r\n\r\nfunction AddProperty() {\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    price: '',\r\n    location: '',\r\n    bedrooms: '',\r\n    bathrooms: '',\r\n    furnished: false,\r\n    amenities: [],\r\n    images: [],\r\n    video: null\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked, files } = e.target;\r\n    setFormData(prevState => ({\r\n      ...prevState,\r\n      [name]: type === 'checkbox' ? checked : \r\n               type === 'file' ? (name === 'images' ? Array.from(files) : files[0]) :\r\n               value\r\n    }));\r\n  };\r\n\r\n  const handleAmenityChange = (e) => {\r\n    const { value, checked } = e.target;\r\n    setFormData(prevState => ({\r\n      ...prevState,\r\n      amenities: checked\r\n        ? [...prevState.amenities, value]\r\n        : prevState.amenities.filter(amenity => amenity !== value)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const formDataToSend = new FormData();\r\n      Object.keys(formData).forEach(key => {\r\n        if (key === 'images') {\r\n          formData[key].forEach(image => formDataToSend.append('images', image));\r\n        } else if (key === 'amenities') {\r\n          formDataToSend.append('amenities', JSON.stringify(formData[key]));\r\n        } else {\r\n          formDataToSend.append(key, formData[key]);\r\n        }\r\n      });\r\n\r\n      await addProperty(formDataToSend);\r\n      alert('Property added successfully!');\r\n      navigate('/view-all-rooms');\r\n    } catch (error) {\r\n      console.error('Error adding property:', error);\r\n      alert('Failed to add property. Please try again.');\r\n    }\r\n  };\r\n\r\n  // ... rest of the component (JSX) remains the same\r\n}\r\n\r\nexport default AddProperty;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}